import{s as G,o as w,i as d,n as x,f as p,k as N,e as m,a as C,c as h,m as b,g,p as _,q as E,t as T,b as W,d as S,h as O,j}from"../chunks/scheduler.BEXlFcv1.js";import{S as q,i as D}from"../chunks/index.7KKCNSNY.js";import{u as I,G as $,s as z,a as B,b as P}from"../chunks/firebase.BwfJqXMx.js";function H(u){let e,r="Login",a,t,n="Sign in with Google",s,f;return{c(){e=m("h2"),e.textContent=r,a=C(),t=m("button"),t.textContent=n,this.h()},l(i){e=h(i,"H2",{"data-svelte-h":!0}),b(e)!=="svelte-bhb3ah"&&(e.textContent=r),a=g(i),t=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),b(t)!=="svelte-eubzr8"&&(t.textContent=n),this.h()},h(){_(t,"class","btn btn-primary")},m(i,o){d(i,e,o),d(i,a,o),d(i,t,o),s||(f=E(t,"click",u[1]),s=!0)},p:x,d(i){i&&(p(e),p(a),p(t)),s=!1,f()}}}function L(u){let e,r,a=u[0].username+"",t,n,s,f="You are logged in.",i,o,y="Sign out",v,k;return{c(){e=m("h2"),r=T("Welcome, @"),t=T(a),n=C(),s=m("p"),s.textContent=f,i=C(),o=m("button"),o.textContent=y,this.h()},l(l){e=h(l,"H2",{class:!0});var c=W(e);r=S(c,"Welcome, @"),t=S(c,a),c.forEach(p),n=g(l),s=h(l,"P",{class:!0,"data-svelte-h":!0}),b(s)!=="svelte-7i7vjz"&&(s.textContent=f),i=g(l),o=h(l,"BUTTON",{class:!0,"data-svelte-h":!0}),b(o)!=="svelte-wq7ddu"&&(o.textContent=y),this.h()},h(){_(e,"class","card-title"),_(s,"class","text-center text-success"),_(o,"class","btn btn-warning")},m(l,c){d(l,e,c),O(e,r),O(e,t),d(l,n,c),d(l,s,c),d(l,i,c),d(l,o,c),v||(k=E(o,"click",u[2]),v=!0)},p(l,c){c&1&&a!==(a=l[0].username+"")&&j(t,a)},d(l){l&&(p(e),p(n),p(s),p(i),p(o)),v=!1,k()}}}function U(u){let e;function r(n,s){var f;return(f=n[0])!=null&&f.username?L:H}let a=r(u),t=a(u);return{c(){t.c(),e=w()},l(n){t.l(n),e=w()},m(n,s){t.m(n,s),d(n,e,s)},p(n,[s]){a===(a=r(n))&&t?t.p(n,s):(t.d(1),t=a(n),t&&(t.c(),t.m(e.parentNode,e)))},i:x,o:x,d(n){n&&p(e),t.d(n)}}}function A(u,e,r){let a;N(u,I,s=>r(0,a=s));async function t(){const s=new $,i=await(await z(P,s)).user.getIdToken();await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:i})})}async function n(){await fetch("/api/signin",{method:"DELETE"}),await B(P)}return[a,t,n]}class F extends q{constructor(e){super(),D(this,e,A,U,G,{})}}export{F as component};
